# Setting up a new BlueHorseshoe instance.

#Installed extensions:
Docker
Github copilot (and Github copilot chat)

#install basic packages
python -m pip install --upgrade pip
sudo python -m pip install ratelimit pymongo pylint numpy scipy requests matplotlib ratelimit pandas scikit-learn keras statsmodels ta

#install ta-lib
wget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz
tar -xzf ta-lib-0.4.0-src.tar.gz
cd ta-lib/
./configure --prefix=/usr/local
make
sudo make install
pip install TA-Lib
cd ..

# Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update
sudo apt-get install docker

# Now try to install mongo
sudo apt-get update && sudo apt-get install -y curl gnupg
sudo curl http://security.debian.org/debian-security/pool/updates/main/o/openssl/libssl1.1_1.1.1w-0+deb11u2_amd64.deb --output libssl1-1.deb
sudo dpkg -i libssl1-1.deb
sudo curl -fsSL https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add
sudo echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
sudo apt-get update
sudo apt-get install -y mongodb-org

sudo rm -rf ta-lib
sudo rm -rf ta-lib-0.4.0-src.tar.gz 
sudo rm -rf libssl1-1.deb 

sudo mkdir -p /data/db
